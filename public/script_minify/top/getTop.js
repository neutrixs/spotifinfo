const getTopTracks=async function(l){if(!(2<l)){let t,s,e;if(s=["long_term","medium_term","short_term"],t=await fetch("https://api.spotify.com/v1/me/top/tracks?limit=50&time_range="+s[l],{method:"GET",headers:{Authorization:window.localStorage.token}}),t=await t.json(),t.error)401!=t.error.status&&400!=t.error.status||(await getToken(),await getTopTracks(l));else{for(e="",i=0;i<t.items.length;i++){for(e+=`<div id="listTrack${l}N${i}" class="list"><div class="listNumber">${i+1}</div><div id="listTrack${l}N${i}AlbumHolder" class="listTrackAlbumHolder"><img id="listTrack${l}N${i}Album" class="listTrackAlbum" src="${t.items[i].album.images[1].url}"></div><div id="listTrack${l}N${i}InfoHolder" class="listTrackInfoHolder"><div class="listTrackTitle">${t.items[i].name}</div><div class="listTrackArtist">`,j=0;j<t.items[i].artists.length;j++)e+=t.items[i].artists[j].name,j!==t.items[i].artists.length-1&&(e+=", ");e+="</div></div></div>"}for($(`#listTrack${l}`).html(e),e="",i=0;i<t.items.length;i++)e+=`$('#listTrack${l}N${i}AlbumHolder').off().on('click',()=>{url = '${t.items[i].album.external_urls.spotify}';if(isMobile()){location.href = url}else{window.open(url)}});$('#listTrack${l}N${i}InfoHolder').off().on('click',()=>{url = '${t.items[i].external_urls.spotify}';if(isMobile()){location.href = url}else{window.open(url)}})\n`;eval(e)}}},getTopArtists=async function(l){if(!(2<l)){let t,s,e;if(s=["long_term","medium_term","short_term"],t=await fetch("https://api.spotify.com/v1/me/top/artists?limit=50&time_range="+s[l],{method:"GET",headers:{Authorization:window.localStorage.token}}),t=await t.json(),t.error)401!=t.error.status&&400!=t.error.status||(await getToken(),await getTopArtists(l));else{for(e="",i=0;i<t.items.length;i++)e+=`<div id="listArtist${l}N${i}" class="list"><div class="listNumber">${i+1}</div><div id="listArtist${l}N${i}ProfileHolder" class="listArtistProfileHolder"><img id="listArtist${l}N${i}Profile" class="listArtistProfile" src="${t.items[i].images[1].url}"></div><div id="listArtist${l}N${i}InfoHolder" class="listArtistInfoHolder"><p id="listArtist${l}N${i}Info" class="listArtistInfo">${t.items[i].name}</p></div></div>`;for($(`#listArtist${l}`).html(e),e="",i=0;i<t.items.length;i++)e+=`$('#listArtist${l}N${i}ProfileHolder').off().on('click',()=>{url = '${t.items[i].external_urls.spotify}';if(isMobile()){location.href = url}else{window.open(url)}});$('#listArtist${l}N${i}InfoHolder').off().on('click',()=>{url = '${t.items[i].external_urls.spotify}';if(isMobile()){location.href = url}else{window.open(url)}})\n`;eval(e)}}};getTopTracks(0),getTopTracks(1),getTopTracks(2),getTopArtists(0),getTopArtists(1),getTopArtists(2);