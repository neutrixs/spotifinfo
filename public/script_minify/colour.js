(function(){var a=Math.floor;let b="";const c=new ColorThief;let d=document.getElementById("mainPicture");d.crossOrigin="Anonymous",d.addEventListener("load",function(){let a=c.getColor(d).join(",");b=[a,a],f(b[0]),g(b[1]),e()});const e=function(){$("#nowPlaying").css("background-color",`rgb(${"false"==window.localStorage.dark?b[1]:b[0]})`)},f=function(c){c=c.split(",");let d=[...c];if(128<c.sort((c,a)=>c-a)[2]){let e=c[2]/128;for(i=0;i<d.length;i++)d[i]=a(d[i]/e);b[0]=d.join(",")}else if(32>c.sort((c,a)=>c-a)[2]){let e=32/c[2];for(i=0;i<d.length;i++)d[i]=a(d[i]*e);b[0]=d.join(",")}},g=function(c){c=c.split(",");let d=[...c];if(255>c.sort((c,a)=>c-a)[2]){let e=255/c[2];for(i=0;i<d.length;i++)d[i]=a(d[i]*e);b[1]=d.join(",")}};$("#theme").on("click",function(){setTimeout(e,10)})})();